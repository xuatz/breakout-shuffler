## xz - refactor(robot): further room xstate migration

### Features Implemented
1. Room State Management in XState
   - Migrated room state (waiting/active) from Jotai to XState
   - Added groups and userGroup tracking to state machine context
   - Consolidated all socket event handling within the machine

### Technical Changes
1. roomMachine.ts
   - Added new context fields: roomState, groups, userGroup
   - Added new events: ROOM_STATE_UPDATED, KICKED
   - Simplified state machine by removing explicit error and kicked states
   - Enhanced 'joined' state to handle room state updates
   - Used reenter flag for KICKED event to properly reset state

2. room.tsx
   - Removed Jotai atoms for room state management
   - Flattened socket event handling structure for better readability
   - Updated UI to use state machine context for room state and group info
   - Simplified error handling to use local state
   - Improved kicked handling with proper navigation
   - Removed redundant local state (hasJoined)
   - Enhanced code formatting:
     - Consistent spacing and indentation
     - Improved SVG loading indicator readability
     - Better comment organization
     - Clearer state transition handling

### Future Considerations
- Consider adding transitions for group changes/updates
- Add validation for group assignments
- Consider adding a 'reconnecting' state for handling connection drops
- Add persistence layer to maintain state across page reloads
- Consider implementing error recovery strategies
- Consider removing remaining Jotai atoms if they can be consolidated into XState
- Look into adding loading state animations/transitions
